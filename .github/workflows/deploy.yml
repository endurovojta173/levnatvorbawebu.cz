name: Deploy React na Hukot

on:
  push:
    branches:
      - main

jobs:
  web-deploy:
    name: ğŸ‰ Build & Deploy
    runs-on: ubuntu-latest
    steps:
    - name: ğŸšš Stahuji nejnovÄ›jÅ¡Ã­ kÃ³d
      uses: actions/checkout@v4

    - name: âš™ï¸ Nastavuji Node.js
      uses: actions/setup-node@v4
      with:
        node-version: 20

    - name: ğŸ“¦ Instaluji zÃ¡vislosti
      run: npm ci

    
    - name: ğŸ—ï¸ Build projektu
      run: npm run build

    - name: ğŸ“‚ KopÃ­ruji sloÅ¾ku dist na FTP
      uses: SamKirkland/FTP-Deploy-Action@v4.3.5
      with:
        server: ${{ secrets.FTP_SERVER }}
        username: ${{ secrets.FTP_USERNAME }}
        password: ${{ secrets.FTP_PASSWORD }}
        # TOTO JE KLÃÄŒOVÃ‰:
        local-dir: ./dist/ 
        server-dir: ./www/       
        security: loose